<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head>
    <title>Handling External Data (JSON)</title>
    <style type="text/css" media="screen">
		@import url( ../shared/style.css );
	</style>
	<script src="../shared/scormfunctions.js" type="text/javascript"></script>
	<script src="../shared/contentfunctions.js" type="text/javascript"></script>
</head>
<body>
<h1>Handling External Data (JSON)</h1>

<h2>JSON Deserialization</h2>
<p>WebClient automatically deserializes JSON responses to Java objects using Jackson.</p>

<blockquote>
public class ExternalData {
    private String id;
    private String name;
    private LocalDateTime createdAt;
    
    // getters and setters
}

// WebClient automatically maps JSON to ExternalData
public ExternalData fetchData(String id) {
    return webClient.get()
        .uri("/data/{id}", id)
        .retrieve()
        .bodyToMono(ExternalData.class)
        .block();
}
</blockquote>

<h2>Custom JSON Handling</h2>
<p>Configure Jackson for custom JSON processing:</p>

<blockquote>
@Configuration
public class WebClientConfig {
    
    @Bean
    public WebClient webClient() {
        ObjectMapper objectMapper = new ObjectMapper();
        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);
        objectMapper.registerModule(new JavaTimeModule());
        
        ExchangeStrategies strategies = ExchangeStrategies.builder()
            .codecs(configurer -&gt; {
                configurer.defaultCodecs().jackson2JsonEncoder(new Jackson2JsonEncoder(objectMapper));
                configurer.defaultCodecs().jackson2JsonDecoder(new Jackson2JsonDecoder(objectMapper));
            })
            .build();
            
        return WebClient.builder()
            .exchangeStrategies(strategies)
            .build();
    }
}
</blockquote>

<script type="text/javascript">
// No promotional content
</script>
</body>
</html>