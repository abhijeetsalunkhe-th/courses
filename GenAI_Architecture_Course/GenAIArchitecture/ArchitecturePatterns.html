<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head>
    <title>GenAI Architecture Patterns</title>
    <style type="text/css" media="screen">
		@import url( ../shared/style.css );
	</style>
	<script src="../shared/scormfunctions.js" type="text/javascript"></script>
	<script src="../shared/contentfunctions.js" type="text/javascript"></script>
</head>
<body>
<h1>GenAI Architecture Patterns</h1>

<p>Choosing the right architecture for GenAI applications depends on latency requirements, scale, cost, and complexity. This module explores the four primary patterns used in modern AI development.</p>

<h2>Architecture Patterns Comparison</h2>
<table>
    <tr><th>Pattern</th><th>Best For</th><th>Latency</th><th>Scalability</th></tr>
    <tr><td><strong>Monolith</strong></td><td>MVPs, Simple Chatbots</td><td>Low (Internal)</td><td>Vertical</td></tr>
    <tr><td><strong>Microservices</strong></td><td>Complex Enterprise Apps</td><td>Medium (Network)</td><td>Horizontal (Per Service)</td></tr>
    <tr><td><strong>Event-Driven</strong></td><td>Doc Processing, Async Workflows</td><td>Variable (Async)</td><td>Horizontal (Independent)</td></tr>
    <tr><td><strong>Serverless</strong></td><td>Variable Traffic, Webhooks</td><td>Variable (Cold Start)</td><td>Automatic</td></tr>
</table>

<h2>1. The Monolith Pattern</h2>
<p>In a monolith, the API, business logic, and LLM integration all reside within a single application process. This is ideal for initial prototypes and small-scale deployments.</p>

<div class="code-block">
<pre><code># Simple Monolith (FastAPI + OpenAI)
@app.post("/chat")
async def chat(request: ChatRequest):
    # Auth, business logic, and LLM call in one place
    user = verify_user(request.token)
    context = db.get_context(user.id)
    response = llm.generate(request.message, context)
    return {"response": response}</code></pre>
</div>

<h2>2. The Event-Driven Pattern</h2>
<p>This pattern decouples the request from the processing using a message broker (e.g., Kafka, RabbitMQ). It is essential for long-running GenAI tasks like document embedding or complex reasoning.</p>

<div class="workflow-diagram">
    <div class="workflow-step">
        <strong>API Gateway</strong>
        Receives request & publishes event
    </div>
    <div class="workflow-arrow">➜</div>
    <div class="workflow-step">
        <strong>Message Queue</strong>
        Decouples producer from consumer
    </div>
    <div class="workflow-arrow">➜</div>
    <div class="workflow-step">
        <strong>AI Worker</strong>
        Consumes event & calls LLM
    </div>
</div>

<h2>3. The Serverless Pattern</h2>
<p>Leveraging Cloud Functions (AWS Lambda, Google Cloud Functions) allows you to run AI logic only when needed, automatically scaling with traffic and minimizing idle costs.</p>

<div class="code-block">
<pre><code># AWS Lambda Handler for LLM processing
def lambda_handler(event, context):
    body = json.loads(event['body'])
    # Fast, pay-per-execution logic
    result = llm_call(body['prompt'])
    return {
        'statusCode': 200,
        'body': json.dumps({'result': result})
    }</code></pre>
</div>

<h2>4. Microservices Pattern</h2>
<p>Large-scale systems often separate GenAI capabilities into distinct services (e.g., an 'Embedding Service', a 'Generation Service', and a 'Vector Database Service'). This allows teams to scale the most resource-intensive components independently.</p>

<h2>Choosing Your Pattern</h2>
<ul>
    <li><strong>Use Monolith</strong> if you need to build and deploy quickly with a small team.</li>
    <li><strong>Use Event-Driven</strong> if your AI tasks take more than 10 seconds to complete.</li>
    <li><strong>Use Serverless</strong> if your traffic is highly unpredictable and you want to minimize costs.</li>
    <li><strong>Use Microservices</strong> if different parts of your AI pipeline have wildly different resource requirements (e.g., GPU vs CPU).</li>
</ul>

<script type="text/javascript">
</script>
</body>
</html>